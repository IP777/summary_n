const prefix = "img";

const files = {
  byId: {
    facebook: {
      width: 167.657,
      height: 167.657,
      viewBox: [0, 0, 167.657, 167.657],
      data: '<path xmlns="http://www.w3.org/2000/svg" d="M83.829,0.349C37.532,0.349,0,37.881,0,84.178c0,41.523,30.222,75.911,69.848,82.57v-65.081H49.626 v-23.42h20.222V60.978c0-20.037,12.238-30.956,30.115-30.956c8.562,0,15.92,0.638,18.056,0.919v20.944l-12.399,0.006 c-9.72,0-11.594,4.618-11.594,11.397v14.947h23.193l-3.025,23.42H94.026v65.653c41.476-5.048,73.631-40.312,73.631-83.154 C167.657,37.881,130.125,0.349,83.829,0.349z"/>',
    },
    github: {
      width: 512,
      height: 512,
      viewBox: [0, 0, 512, 512],
      data: '<path xmlns="http://www.w3.org/2000/svg" d="M255.968,5.329C114.624,5.329,0,120.401,0,262.353c0,113.536,73.344,209.856,175.104,243.872 c12.8,2.368,17.472-5.568,17.472-12.384c0-6.112-0.224-22.272-0.352-43.712c-71.2,15.52-86.24-34.464-86.24-34.464 c-11.616-29.696-28.416-37.6-28.416-37.6c-23.264-15.936,1.728-15.616,1.728-15.616c25.696,1.824,39.2,26.496,39.2,26.496 c22.848,39.264,59.936,27.936,74.528,21.344c2.304-16.608,8.928-27.936,16.256-34.368 c-56.832-6.496-116.608-28.544-116.608-127.008c0-28.064,9.984-51.008,26.368-68.992c-2.656-6.496-11.424-32.64,2.496-68 c0,0,21.504-6.912,70.4,26.336c20.416-5.696,42.304-8.544,64.096-8.64c21.728,0.128,43.648,2.944,64.096,8.672 c48.864-33.248,70.336-26.336,70.336-26.336c13.952,35.392,5.184,61.504,2.56,68c16.416,17.984,26.304,40.928,26.304,68.992 c0,98.72-59.84,120.448-116.864,126.816c9.184,7.936,17.376,23.616,17.376,47.584c0,34.368-0.32,62.08-0.32,70.496 c0,6.88,4.608,14.88,17.6,12.352C438.72,472.145,512,375.857,512,262.353C512,120.401,397.376,5.329,255.968,5.329z"/>',
    },
    linkedin: {
      width: 512,
      height: 512,
      viewBox: [0, 0, 512, 512],
      data: '<path xmlns="http://www.w3.org/2000/svg" d="m256 0c-141.363281 0-256 114.636719-256 256s114.636719 256 256 256 256-114.636719 256-256-114.636719-256-256-256zm-74.390625 387h-62.347656v-187.574219h62.347656zm-31.171875-213.1875h-.40625c-20.921875 0-34.453125-14.402344-34.453125-32.402344 0-18.40625 13.945313-32.410156 35.273437-32.410156 21.328126 0 34.453126 14.003906 34.859376 32.410156 0 18-13.53125 32.402344-35.273438 32.402344zm255.984375 213.1875h-62.339844v-100.347656c0-25.21875-9.027343-42.417969-31.585937-42.417969-17.222656 0-27.480469 11.601563-31.988282 22.800781-1.648437 4.007813-2.050781 9.609375-2.050781 15.214844v104.75h-62.34375s.816407-169.976562 0-187.574219h62.34375v26.558594c8.285157-12.78125 23.109375-30.960937 56.1875-30.960937 41.019531 0 71.777344 26.808593 71.777344 84.421874zm0 0"/>',
    },
  },
  allIds: ["facebook", "github", "linkedin"],
};

function SVG(props) {
  if (props.isHidden) {
    return (
      <svg display="none" style={{ display: "none" }}>
        {props.children}
      </svg>
    );
  }

  let file = files.byId[props.id];

  if (!file) return null;

  //   const width = props.width || file.width || null;
  const height = props.height || file.height || null;
  const deltaWidth = props.height * (file.width / file.height);

  const fill = props.fill || "#000";
  const viewBox = file.viewBox
    ? file.viewBox.join(" ")
    : "0 0 " + props.width + " " + props.height;

  return props.isHidden ? (
    <svg display="none">{props.children}</svg>
  ) : (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      version="1.1"
      preserveAspectRatio="xMinYMin"
      //   width={width}
      width={deltaWidth}
      height={height}
      viewBox={viewBox}
      style={{ ...props.style }}
    >
      <use xlinkHref={"#" + prefix + "-" + props.id} fill={fill} />
    </svg>
  );
}

function SVGSource(props) {
  return (
    <SVG isHidden={true}>
      <defs>
        {files.allIds.reduce((defs, fileId, fileIndex) => {
          const file = files.byId[fileId];
          return defs.concat(
            <g
              key={fileIndex}
              id={prefix + "-" + fileId}
              dangerouslySetInnerHTML={{ __html: file.data }}
            ></g>
          );
        }, [])}
      </defs>
    </SVG>
  );
}

export { SVG, SVGSource };
